{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["console.log('merhaba');\n// Dokümantasyonda belirtilen import\nimport iziToast from 'izitoast';\n// Stil importu\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Dokümantasyonda belirtilen import\nimport SimpleLightbox from 'simplelightbox';\n// Stil importu\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n//axios importu\nimport axios from \"axios\";\n\nconst API_KEY = '48479056-b624f953eac1ddf8407abd187';\nconst BASE_URL = 'https://pixabay.com/api/';\n\n// DOM öğelerimi seçtim\n\nconst searchInput = document.querySelector('.search-input');\nconst searchButton = document.querySelector('.search-btn');\nconst imagesContainer = document.querySelector('.images-container');\nconst loader = document.querySelector('.loader');\nconst loadMoreBtn = document.querySelector(\".load-more-btn\");\n\nlet currentPage=1;\nlet perPage = 40;\nlet currentQuery =\"\"; // Mevcut arama sorgusunu saklamak için\nlet totalImages = 0; // Toplam resim sayısını saklamak için\n\n//Butona tıklama olayı\n\nsearchButton.addEventListener('click', () => {\n  const query = searchInput.value.trim(); // input değerini aldım.\n  if (query) {\n    currentQuery = query; // Yeni sorguyu sakla\n   imagesContainer.innerHTML = \"\"; // Önceki içeriği temizle\n    fetchImages(query); // resimleri getir\n    totalImages = 0; // Toplam resim sayısını sıfırla\n  } else {\n    iziToast.warning({\n      message: 'Please enter a search term.',\n      position: 'topRight',\n    });\n  }\n});\n\n\n\n// Sayfa ve limit parametrelerini döndüren fonksiyon\nfunction fetchPosts(query) {\n  return new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: \"true\",\n    per_page: perPage, // API'nin desteklediği per_page parametresi\n    page: currentPage, // Doğru sayfa numarası parametresi\n  }).toString();\n  }\n//  Pixabay dan axios ile api çekme\n\nasync function fetchImages(query) {\n  const url = `${BASE_URL}?${fetchPosts(query)}`;\n  \n    loader.style.visibility = \"visible\"; // Loader'ı göster\n    try {\n      const response = await axios.get(url);\n  \n      if (response.data.hits.length > 0) {\n        displayImages(response.data.hits);\n      } else {\n        iziToast.error({\n          message:\n            \"Sorry, there are no images matching your search query. Please try again!\",\n          position: \"topRight\",\n        });\n      }\n      loadMoreBtn.style.visibility = \"visible\"; // Load More  Btn'u göster\n\n      // totalhits\n      if (totalImages >= response.data.totalHits) {\n        loadMoreBtn.style.display = \"none\"; // Load More butonunu gizle\n        iziToast.info({\n          message: \"Tüm resimler yüklendi! Başka sonuç yok.\",\n          position: \"topRight\",\n        });\n      }\n    } catch (error) {\n        iziToast.error({\n            message:\n              \"We're sorry, but you've reached the end of search results\",\n            position: \"topRight\",\n          });\n          loadMoreBtn.style.visibility = \"hidden\"; // Load More  Btn'u gizle\n      console.log(\"Hata :\", error);\n     \n    } finally {\n      loader.style.visibility = \"hidden\"; // Loader'ı gizle\n    }\n  }\n\n  loadMoreBtn.addEventListener(\"click\", () => {\n    loader.style.visibility = \"visible\"; // Loader'ı göster\n    currentPage++;\n    \n    fetchImages(currentQuery);\n   \n  });\n  \n\n\n\n\n\n// Resimleri ekrana bastım\nfunction displayImages(images) {\n  const markup = images\n\n    .map(\n      image => `\n        <div class=\"image-card\">\n       <a href=\"${image.largeImageURL}\"> <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" title=\"${image.tags}\"></a>\n         <div class=\"info\">\n             <p><strong>Likes:</strong><br> ${image.likes}</br></p>\n                    <p><strong>Views:</strong> <br>${image.views}</br></p>\n                    <p><strong>Comments:</strong> <br>${image.comments}</br></p>\n                    <p><strong>Downloads:</strong><br> ${image.downloads}</br></p>\n                </div>\n            </div>\n\n        `\n    )\n    \n\n    .join('');\n    imagesContainer.insertAdjacentHTML(\"beforeend\", markup); // Yeni resimleri ekle\n\n  const lightbox = new SimpleLightbox('.image-card a', {\n    captionsData: 'alt', // Alt metnini göster\n    captionDelay: 250, // Alt metnin görünme gecikmesi (ms)\n    nav: true, //sağa/sola kaydırma\n  });\n  lightbox.refresh();\n}"],"names":["API_KEY","BASE_URL","searchInput","searchButton","imagesContainer","loader","loadMoreBtn","currentPage","perPage","currentQuery","totalImages","query","fetchImages","iziToast","fetchPosts","url","response","axios","displayImages","error","images","markup","image","SimpleLightbox"],"mappings":"owBAAA,QAAQ,IAAI,SAAS,EAcrB,MAAMA,EAAU,qCACVC,EAAW,2BAIXC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAe,SAAS,cAAc,aAAa,EACnDC,EAAkB,SAAS,cAAc,mBAAmB,EAC5DC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAc,SAAS,cAAc,gBAAgB,EAE3D,IAAIC,EAAY,EACZC,EAAU,GACVC,EAAc,GACdC,EAAc,EAIlBP,EAAa,iBAAiB,QAAS,IAAM,CAC3C,MAAMQ,EAAQT,EAAY,MAAM,KAAI,EAChCS,GACFF,EAAeE,EAChBP,EAAgB,UAAY,GAC3BQ,EAAYD,CAAK,EACjBD,EAAc,GAEdG,EAAS,QAAQ,CACf,QAAS,8BACT,SAAU,UAChB,CAAK,CAEL,CAAC,EAKD,SAASC,EAAWH,EAAO,CACzB,OAAO,IAAI,gBAAgB,CACzB,IAAKX,EACL,EAAGW,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,SAAUH,EACV,KAAMD,CACV,CAAG,EAAE,SAAQ,CACV,CAGH,eAAeK,EAAYD,EAAO,CAChC,MAAMI,EAAM,GAAGd,CAAQ,IAAIa,EAAWH,CAAK,CAAC,GAE1CN,EAAO,MAAM,WAAa,UAC1B,GAAI,CACF,MAAMW,EAAW,MAAMC,EAAM,IAAIF,CAAG,EAEhCC,EAAS,KAAK,KAAK,OAAS,EAC9BE,EAAcF,EAAS,KAAK,IAAI,EAEhCH,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,EAEHP,EAAY,MAAM,WAAa,UAG3BI,GAAeM,EAAS,KAAK,YAC/BV,EAAY,MAAM,QAAU,OAC5BO,EAAS,KAAK,CACZ,QAAS,0CACT,SAAU,UACpB,CAAS,EAEJ,OAAQM,EAAO,CACZN,EAAS,MAAM,CACX,QACE,4DACF,SAAU,UACtB,CAAW,EACDP,EAAY,MAAM,WAAa,SACnC,QAAQ,IAAI,SAAUa,CAAK,CAEjC,QAAc,CACRd,EAAO,MAAM,WAAa,QAC3B,CACF,CAEDC,EAAY,iBAAiB,QAAS,IAAM,CAC1CD,EAAO,MAAM,WAAa,UAC1BE,IAEAK,EAAYH,CAAY,CAE5B,CAAG,EAQH,SAASS,EAAcE,EAAQ,CAC7B,MAAMC,EAASD,EAEZ,IACCE,GAAS;AAAA;AAAA,kBAEGA,EAAM,aAAa,gBAAgBA,EAAM,YAAY,UAAUA,EAAM,IAAI,YAAYA,EAAM,IAAI;AAAA;AAAA,8CAEnEA,EAAM,KAAK;AAAA,qDACJA,EAAM,KAAK;AAAA,wDACRA,EAAM,QAAQ;AAAA,yDACbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,SAKnE,EAGA,KAAK,EAAE,EACRlB,EAAgB,mBAAmB,YAAaiB,CAAM,EAEvC,IAAIE,EAAe,gBAAiB,CACnD,aAAc,MACd,aAAc,IACd,IAAK,EACT,CAAG,EACQ,QAAO,CAClB"}